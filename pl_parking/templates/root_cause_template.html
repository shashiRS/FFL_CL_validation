<div class="table-container">
<table border="1" class="dataframe table table-hover height:500px">
  <thead class= "sticky-top" id = "myHeader">
    <tr>
      <th style="min-width: 100px;"></th>
      {% for step in stp_list %}
      <th colspan="2" halign="left"style="min-width: 100px;"><a href="" style="text-align:center; display:block">{{ step }}</a></th>
      {% endfor %}
    </tr>
    <tr>
      <th style="min-width: 100px;"></th>
      {% for link, step_name in cs_dict.items() %}
      <th style="min-width: 100px;"><a href="{{ link }}" style="text-align:center; display:block">{{step_name}}</a></th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
        {% for key, value in data.items() %}
    <tr>
      <th>{{ key }}</th>
        {% for sub_key, sub_value in value.items() %}
          {% for sub_sub_key, sub_sub_value in sub_value.items() %}
            {% for sub_sub_sub_key, sub_sub_sub_value in sub_sub_value.items() %}
            <td bgcolor="{{ sub_sub_sub_value.color }}"style="text-align: center;"><a href="{{sub_sub_sub_value.link}}" style="text-align:center; width: 100%; height: 100%; color: #ffffff">{{ sub_sub_sub_value.verdict }}</a></td>
        {% endfor %}
          {% endfor %}
        {% endfor %}
    </tr>
        {% endfor %}
  </tbody>
</table>
</div>
<style>
  .table-container {
    max-height: 600px; /* Set a maximum height for scroll */
    overflow-y: auto; /* Enable vertical scrolling */
  }

  th {
    background-color: #f2f2f2;
  }

  thead {
    position: sticky;
    top: 0;
    background-color: #f2f2f2; /* Optional: Set background color for the sticky header */
    z-index: 0; /* Ensure the header stays above the table body */
  }
</style>
